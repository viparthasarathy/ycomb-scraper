



<!DOCTYPE html>
<html lang="en" class="">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    
    
    <title>GoForCPPProgrammers · golang/go Wiki · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="golang/go" name="twitter:title" /><meta content="go - The Go programming language" name="twitter:description" /><meta content="https://avatars1.githubusercontent.com/u/4314092?v=3&amp;s=400" name="twitter:image:src" />
<meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://avatars1.githubusercontent.com/u/4314092?v=3&amp;s=400" property="og:image" /><meta content="golang/go" property="og:title" /><meta content="https://github.com/golang/go" property="og:url" /><meta content="go - The Go programming language" property="og:description" />

      <meta name="browser-stats-url" content="/_stats">
    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="conduit-xhr" href="https://ghconduit.com:25035">
    
    <meta name="pjax-timeout" content="1000">
    

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_wiki" data-pjax-transient>
      <meta name="google-analytics" content="UA-3769691-2">

    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="github" name="octolytics-app-id" /><meta content="43A40E90:2BF0:16F85FAD:54D535ED" name="octolytics-dimension-request_id" />
    
    <meta content="Rails, view, wiki#show" name="analytics-event" />

    
    
    <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">


    <meta content="authenticity_token" name="csrf-param" />
<meta content="fSrhzC9qemwGfl3p59UqGD+JOnzC6zJwbVTp7MBCI6F5E/qC/F+KxuYZ7LTgSeY4jQkAwF/i2EyOQlGx9nPytg==" name="csrf-token" />

    <link href="https://assets-cdn.github.com/assets/github-2645526bc0bcaf7ed5cabb60c0fe8c219102b8e1ea6315cf60b96a8556266518.css" media="all" rel="stylesheet" type="text/css" />
    <link href="https://assets-cdn.github.com/assets/github2-faeea63a73c53601b12a7da49769bb02afa3a08019d38f5b12f121a5c5f6fa8a.css" media="all" rel="stylesheet" type="text/css" />
    
    


    <meta http-equiv="x-pjax-version" content="915c634b50c904be90a3397e6e8c9a4a">

      
  <meta name="description" content="go - The Go programming language">
  <meta name="go-import" content="github.com/golang/go git https://github.com/golang/go.git">

  <meta content="4314092" name="octolytics-dimension-user_id" /><meta content="golang" name="octolytics-dimension-user_login" /><meta content="23096959" name="octolytics-dimension-repository_id" /><meta content="golang/go" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="23096959" name="octolytics-dimension-repository_network_root_id" /><meta content="golang/go" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/golang/go/commits/master.atom" rel="alternate" title="Recent Commits to go:master" type="application/atom+xml">

  </head>


  <body class="logged_out  env-production  vis-public">
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>
    <div class="wrapper">
      
      
      
      


      
      <div class="header header-logged-out" role="banner">
  <div class="container clearfix">

    <a class="header-logo-wordmark" href="https://github.com/" ga-data-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
      <span class="mega-octicon octicon-logo-github"></span>
    </a>

    <div class="header-actions" role="navigation">
        <a class="button primary" href="/join" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign up</a>
      <a class="button" href="/login?return_to=%2Fgolang%2Fgo%2Fwiki%2FGoForCPPProgrammers" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>
    </div>

    <div class="site-search repo-scope js-site-search" role="search">
      <form accept-charset="UTF-8" action="/golang/go/search" class="js-site-search-form" data-global-search-url="/search" data-repo-search-url="/golang/go/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
  <input type="text"
    class="js-site-search-field is-clearable"
    data-hotkey="s"
    name="q"
    placeholder="Search"
    data-global-scope-placeholder="Search GitHub"
    data-repo-scope-placeholder="Search"
    tabindex="1"
    autocapitalize="off">
  <div class="scope-badge">This repository</div>
</form>
    </div>

      <ul class="header-nav left" role="navigation">
          <li class="header-nav-item">
            <a class="header-nav-link" href="/explore" data-ga-click="(Logged out) Header, go to explore, text:explore">Explore</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/features" data-ga-click="(Logged out) Header, go to features, text:features">Features</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://enterprise.github.com/" data-ga-click="(Logged out) Header, go to enterprise, text:enterprise">Enterprise</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/blog" data-ga-click="(Logged out) Header, go to blog, text:blog">Blog</a>
          </li>
      </ul>

  </div>
</div>



      <div id="start-of-content" class="accessibility-aid"></div>
          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    <div id="js-flash-container">
      
    </div>
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        
<ul class="pagehead-actions">


  <li>
      <a href="/login?return_to=%2Fgolang%2Fgo"
    class="minibutton with-count star-button tooltipped tooltipped-n"
    aria-label="You must be signed in to star a repository" rel="nofollow">
    <span class="octicon octicon-star"></span>
    Star
  </a>

    <a class="social-count js-social-count" href="/golang/go/stargazers">
      6,116
    </a>

  </li>

    <li>
      <a href="/login?return_to=%2Fgolang%2Fgo"
        class="minibutton with-count js-toggler-target fork-button tooltipped tooltipped-n"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <span class="octicon octicon-repo-forked"></span>
        Fork
      </a>
      <a href="/golang/go/network" class="social-count">
        378
      </a>
    </li>
</ul>

        <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="mega-octicon octicon-repo"></span>
          <span class="author"><a href="/golang" class="url fn" itemprop="url" rel="author"><span itemprop="title">golang</span></a></span><!--
       --><span class="path-divider">/</span><!--
       --><strong><a href="/golang/go" class="js-current-repository" data-pjax="#js-repo-pjax-container">go</a></strong>

          <span class="page-context-loader">
            <img alt="" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
          </span>

        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">
      <div class="repository-with-sidebar repo-container new-discussion-timeline  ">
        <div class="repository-sidebar clearfix">
            
<nav class="sunken-menu repo-nav js-repo-nav js-sidenav-container-pjax js-octicon-loaders"
     role="navigation"
     data-pjax="#js-repo-pjax-container"
     data-issue-count-url="/golang/go/issues/counts">
  <ul class="sunken-menu-group">
    <li class="tooltipped tooltipped-w" aria-label="Code">
      <a href="/golang/go" aria-label="Code" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /golang/go">
        <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>

      <li class="tooltipped tooltipped-w" aria-label="Issues">
        <a href="/golang/go/issues" aria-label="Issues" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /golang/go/issues">
          <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
          <span class="js-issue-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

    <li class="tooltipped tooltipped-w" aria-label="Pull Requests">
      <a href="/golang/go/pulls" aria-label="Pull Requests" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g p" data-selected-links="repo_pulls /golang/go/pulls">
          <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull Requests</span>
          <span class="js-pull-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>


      <li class="tooltipped tooltipped-w" aria-label="Wiki">
        <a href="/golang/go/wiki" aria-label="Wiki" class="selected js-selected-navigation-item sunken-menu-item" data-hotkey="g w" data-selected-links="repo_wiki /golang/go/wiki">
          <span class="octicon octicon-book"></span> <span class="full-word">Wiki</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>
  </ul>
  <div class="sunken-menu-separator"></div>
  <ul class="sunken-menu-group">

    <li class="tooltipped tooltipped-w" aria-label="Pulse">
      <a href="/golang/go/pulse" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-selected-links="pulse /golang/go/pulse">
        <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>

    <li class="tooltipped tooltipped-w" aria-label="Graphs">
      <a href="/golang/go/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-selected-links="repo_graphs repo_contributors /golang/go/graphs">
        <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>    </li>
  </ul>


</nav>

              <div class="only-with-full-nav">
                  
<div class="clone-url open"
  data-protocol-type="http"
  data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><span class="text-emphasized">HTTPS</span> clone URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/golang/go.git" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="clone-url "
  data-protocol-type="subversion"
  data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><span class="text-emphasized">Subversion</span> checkout URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/golang/go" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>



<p class="clone-options">You can clone with
  <a href="#" class="js-clone-selector" data-protocol="http">HTTPS</a> or <a href="#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <a href="https://help.github.com/articles/which-remote-url-should-i-use" class="help tooltipped tooltipped-n" aria-label="Get help on which URL is right for you.">
    <span class="octicon octicon-question"></span>
  </a>
</p>



                <a href="/golang/go/archive/master.zip"
                   class="minibutton sidebar-button"
                   aria-label="Download the contents of golang/go as a zip file"
                   title="Download the contents of golang/go as a zip file"
                   rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
              </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>
          

<div id="wiki-wrapper" class="wiki-wrapper page">
<div class="gh-header">
  <div class="gh-header-show">
      <div class="gh-header-actions">
      </div>
    <h1 class="gh-header-title instapaper_title">GoForCPPProgrammers</h1>
      <div class="gh-header-meta">
        Dave Day edited this page <time datetime="2014-12-10T04:02:18Z" is="relative-time">Dec 10, 2014</time>
        &middot;
        <a href="/golang/go/wiki/GoForCPPProgrammers/_history" class="history">
          2 revisions
        </a>
      </div>
  </div>
</div>
<div id="wiki-content">
  <div class="wrap has-rightbar">

  <div id="wiki-rightbar">
    <div class="wiki-pages-box readability-sidebar boxed-group flush js-wiki-pages-box " role="navigation">
      
<h3 class="js-wiki-toggle-collapse wiki-auxiliary-content">
  <span class="octicon octicon-triangle-down caret-expanded"></span>
  <span class="octicon octicon-triangle-right caret-collapsed"></span>
  Pages <span class="counter">88</span>
</h3>
<div class="boxed-group-inner wiki-auxiliary-content wiki-auxiliary-content-no-bg">
    <div class="filter-bar">
      <input type="text" id="wiki-pages-filter" class="filter-input js-filterable-field" placeholder="Find a Page…" tabindex="2">
    </div>

  <ul class="wiki-pages" data-filterable-for="wiki-pages-filter" data-filterable-type="substring">
    <li>
      <strong><a href="/golang/go/wiki/Articles" class="wiki-page-link">Articles</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/Books" class="wiki-page-link">Books</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/BoundingResourceUse" class="wiki-page-link">BoundingResourceUse</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/cgo" class="wiki-page-link">cgo</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/ChromeOS" class="wiki-page-link">ChromeOS</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/CodeReview" class="wiki-page-link">CodeReview</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/CodeReviewComments" class="wiki-page-link">CodeReviewComments</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/Comments" class="wiki-page-link">Comments</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/CommonMistakes" class="wiki-page-link">CommonMistakes</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/CompilerOptimizations" class="wiki-page-link">CompilerOptimizations</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/Courses" class="wiki-page-link">Courses</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/DashboardBuilders" class="wiki-page-link">DashboardBuilders</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/DesignDocuments" class="wiki-page-link">DesignDocuments</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/Errors" class="wiki-page-link">Errors</a></strong>
    </li>
    <li>
      <strong><a href="/golang/go/wiki/FreeBSD" class="wiki-page-link">FreeBSD</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GccgoCrossCompilation" class="wiki-page-link">GccgoCrossCompilation</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GcToolchainTricks" class="wiki-page-link">GcToolchainTricks</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GithubCodeLayout" class="wiki-page-link">GithubCodeLayout</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Go1point1Gotchas" class="wiki-page-link">Go1point1Gotchas</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoArm" class="wiki-page-link">GoArm</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoForCPPProgrammers" class="wiki-page-link">GoForCPPProgrammers</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoGenerateTools" class="wiki-page-link">GoGenerateTools</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoGetProxyConfig" class="wiki-page-link">GoGetProxyConfig</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoGetTools" class="wiki-page-link">GoGetTools</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GOPATH" class="wiki-page-link">GOPATH</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoStrings" class="wiki-page-link">GoStrings</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoTalks" class="wiki-page-link">GoTalks</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoUserGroups" class="wiki-page-link">GoUserGroups</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoUsers" class="wiki-page-link">GoUsers</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/GoVsGenerics" class="wiki-page-link">GoVsGenerics</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/HandlingIssues" class="wiki-page-link">HandlingIssues</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Hashing" class="wiki-page-link">Hashing</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/heapdump13" class="wiki-page-link">heapdump13</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/heapdump14" class="wiki-page-link">heapdump14</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki" class="wiki-page-link">Home</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/HostedContinuousIntegration" class="wiki-page-link">HostedContinuousIntegration</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/HowToAsk" class="wiki-page-link">HowToAsk</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/HttpFetch" class="wiki-page-link">HttpFetch</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/HttpStaticFiles" class="wiki-page-link">HttpStaticFiles</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/IDEsAndTextEditorPlugins" class="wiki-page-link">IDEsAndTextEditorPlugins</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/InstallFromSource" class="wiki-page-link">InstallFromSource</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/InstallTroubleshooting" class="wiki-page-link">InstallTroubleshooting</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/InterfaceSlice" class="wiki-page-link">InterfaceSlice</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Iota" class="wiki-page-link">Iota</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Learn" class="wiki-page-link">Learn</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/LearnConcurrency" class="wiki-page-link">LearnConcurrency</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/LearnErrorHandling" class="wiki-page-link">LearnErrorHandling</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/LearnServerProgramming" class="wiki-page-link">LearnServerProgramming</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/LearnTesting" class="wiki-page-link">LearnTesting</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/LockOSThread" class="wiki-page-link">LockOSThread</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/MethodSets" class="wiki-page-link">MethodSets</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/MultipleGoRoots" class="wiki-page-link">MultipleGoRoots</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/MutexOrChannel" class="wiki-page-link">MutexOrChannel</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/NativeClient" class="wiki-page-link">NativeClient</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/NetBSD" class="wiki-page-link">NetBSD</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/NonEnglish" class="wiki-page-link">NonEnglish</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/OlderVersions" class="wiki-page-link">OlderVersions</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/OpenBSD" class="wiki-page-link">OpenBSD</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/PackageManagementTools" class="wiki-page-link">PackageManagementTools</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/PackagePublishing" class="wiki-page-link">PackagePublishing</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/PanicAndRecover" class="wiki-page-link">PanicAndRecover</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/PerfDashboard" class="wiki-page-link">PerfDashboard</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/PortingPolicy" class="wiki-page-link">PortingPolicy</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Projects" class="wiki-page-link">Projects</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/ProviderIntegration" class="wiki-page-link">ProviderIntegration</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/RaceDetector" class="wiki-page-link">RaceDetector</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Range" class="wiki-page-link">Range</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/RateLimiting" class="wiki-page-link">RateLimiting</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Rationales" class="wiki-page-link">Rationales</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Screencasts" class="wiki-page-link">Screencasts</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/SendingMail" class="wiki-page-link">SendingMail</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/SignalHandling" class="wiki-page-link">SignalHandling</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/SimultaneousAssignment" class="wiki-page-link">SimultaneousAssignment</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/SliceTricks" class="wiki-page-link">SliceTricks</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/SQLDrivers" class="wiki-page-link">SQLDrivers</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/SQLInterface" class="wiki-page-link">SQLInterface</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Style" class="wiki-page-link">Style</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/SubRepositories" class="wiki-page-link">SubRepositories</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/SuccessStories" class="wiki-page-link">SuccessStories</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Switch" class="wiki-page-link">Switch</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/TableDrivenTests" class="wiki-page-link">TableDrivenTests</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Timeouts" class="wiki-page-link">Timeouts</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/Ubuntu" class="wiki-page-link">Ubuntu</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/whygo" class="wiki-page-link">whygo</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/WindowsBuild" class="wiki-page-link">WindowsBuild</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/WindowsCrossCompiling" class="wiki-page-link">WindowsCrossCompiling</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/WindowsDLLs" class="wiki-page-link">WindowsDLLs</a></strong>
    </li>
    <li class="wiki-more-pages">
      <strong><a href="/golang/go/wiki/WindowsSupport" class="wiki-page-link">WindowsSupport</a></strong>
    </li>
    <li class="wiki-more-pages-link">
      <a href="#" class="js-wiki-more-pages-link">
        Show 73 more pages…
      </a>
    </li>
  </ul>
</div>

    </div>


    <div class="clone-url">
      <h5>Clone this wiki locally</h5>
      <div class="input-group js-zeroclipboard-container">
        <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
               value="https://github.com/golang/go.wiki.git" readonly="readonly">
        <span class="input-group-button">
          <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
        </span>
      </div>


    </div>
  </div>

  <div id="wiki-body" class="gollum-markdown-content instapaper_body">
    <div class="markdown-body">
      <p>Go is a systems programming language intended to be a general-purpose systems
language, like C++.  These are some notes on Go for experienced C++
programmers. This document discusses the differences between Go and C++, and
says little to nothing about the similarities.</p>

<p>An important point to keep in mind is that there are some fundamental differences in the thought processes required to be proficient in the two respective languages.  Most formidably, C++'s object model is based on classes and class hierarchies while Go's object model is based on interfaces (and is essentially flat).  Consequently, C++ design patterns rarely translate verbatim to Go.  To program effectively in Go, one has to consider the <em>problem</em> being solved, not the mechanisms one might use in C++ to solve the problem.</p>

<p>For a more general introduction to Go, see the
<a href="http://tour.golang.org/">Go Tour</a>,
<a href="http://golang.org/doc/code.html">How to Write Go Code</a>
and <a href="http://golang.org/doc/effective_go.html">Effective Go</a>.</p>

<p>For a detailed description of the Go language, see the
<a href="http://golang.org/doc/go_spec.html">Go spec</a>.</p>

<h2>
<a id="user-content-conceptual-differences" class="anchor" href="#conceptual-differences" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conceptual Differences</h2>

<ul class="task-list">
<li>Go does not have classes with constructors or destructors.  Instead of<br>
class methods, a class inheritance hierarchy, and virtual functions, Go<br>
provides <em>interfaces</em>, which are discussed in more detail below.<br>
Interfaces are also used where C++ uses templates.</li>

<li>Go provides automatic garbage collection of allocated memory. It is not necessary (or possible) to release memory explicitly.  There is no need to worry about heap-allocated vs. stack-allocated storage, <code>new</code> vs. <code>malloc</code>, or <code>delete</code> vs. <code>delete[]</code> vs. <code>free</code>.  There is no need to separately manage <code>std::unique_ptr</code>, <code>std::shared_ptr</code>, <code>std::weak_ptr</code>, <code>std::auto_ptr</code>, and ordinary, "dumb" pointers.  Go's run-time system handles all of that error-prone code on the programmer's behalf.</li>

<li>Go has pointers but not pointer arithmetic. Go pointers therefore more closely resemble C++ references.  One cannot use a Go pointer<br>
variable to walk through the bytes of a string, for example.  Slices, discussed further below, satisfy most of the need for pointer arithmetic.</li>

<li>Go is "safe" by default.  Pointers cannot point to arbitrary memory, and buffer overruns result in crashes, not security exploits.  The <code>unsafe</code> package lets programmers bypass some of Go's protection mechanisms where explicitly requested.</li>

<li>Arrays in Go are first class values. When an array is used as a function<br>
parameter, the function receives a copy of the array, not a pointer to it.<br>
However, in practice functions often use slices for parameters; slices hold<br>
pointers to underlying arrays.  Slices are discussed further below.</li>

<li>Strings are provided by the language. They may not be changed once they<br>
have been created.</li>

<li>Hash tables are provided by the language. They are called maps.</li>

<li>Separate threads of execution, and communication channels between them, are<br>
provided by the language. This is discussed further below.</li>

<li>Certain types (maps and channels, described further below) are passed by<br>
reference, not by value. That is, passing a map to a function does not copy the<br>
map, and if the function changes the map the change will be seen by the caller.<br>
In C++ terms, one can think of these as being reference types.</li>

<li>Go does not use header files. Instead, each source file is part of a<br>
defined <em>package</em>. When a package defines an object (type, constant,<br>
variable, function) with a name starting with an upper case letter, that object<br>
is visible to any other file which imports that package.</li>

<li>Go does not support implicit type conversion. Operations that mix different types require casts (called conversions in Go).  This is true even of different user-defined aliases of the same underlying type.</li>

<li>Go does not support function overloading and does not support user defined<br>
operators.</li>

<li>Go does not support <code>const</code> or <code>volatile</code> qualifiers.</li>

<li>Go uses <code>nil</code> for invalid pointers, where C++ uses <code>NULL</code> or simply <code>0</code> (or in C++11, <code>nullptr</code>).</li>

<li>Idiomatic Go uses multiple return values to convey errors—one or more data results plus an error code—instead of sentinel values (e.g., <code>-1</code>) or structured exception handling (C++'s <code>try</code>…<code>catch</code> and <code>throw</code> or Go's <code>panic</code>…<code>recover</code>).</li>

</ul>

<h2>
<a id="user-content-syntax" class="anchor" href="#syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Syntax</h2>

<p>The declaration syntax is reversed compared to C++. You write the name
followed by the type. Unlike in C++, the syntax for a type does not match
the way in which the variable is used. Type declarations may be read
easily from left to right.  (<code>var v1 int</code> → "Variable <code>v1</code> is an <code>int</code>.")</p>

<pre><code>Go                           C++
var v1 int                // int v1;
var v2 string             // const std::string v2;  (approximately)
var v3 [10]int            // int v3[10];
var v4 []int              // int* v4;  (approximately)
var v5 struct { f int }   // struct { int f; } v5;
var v6 *int               // int* v6;  (but no pointer arithmetic)
var v7 map[string]int     // unordered_map&lt;string, int&gt;* v7;  (approximately)
var v8 func(a int) int    // int (*v8)(int a);
</code></pre>

<p>Declarations generally take the form of a keyword followed by the name
of the object being declared.  The keyword is one of <code>var</code>,
<code>func</code>,
<code>const</code>, or <code>type</code>.  Method declarations are a minor
exception in that
the receiver appears before the name of the object being declared; see
the <a href="#Interfaces">discussion of interfaces</a>.</p>

<p>You can also use a keyword followed by a series of declarations in
parentheses.</p>

<pre><code>var (
    i int
    m float64
)
</code></pre>

<p>When declaring a function, you must either provide a name for each parameter
or not provide a name for any parameter.  (That is, C++ permits <code>void f(int i, int);</code>, but Go does not permit the analogous <code>func f(i int, int)</code>.)  However, for convenience, in Go you may group several names with the same type:</p>

<pre><code>func f(i, j, k int, s, t string)
</code></pre>

<p>A variable may be initialized when it is declared.  When this is done,
specifying the type is permitted but not required.  When the type is
not specified, the type of the variable is the type of the
initialization expression.</p>

<pre><code>var v = *p
</code></pre>

<p>See also the <a href="#Constants">discussion of constants, below</a>.
If a variable is not initialized explicitly, the type must be specified.
In that case it will be
implicitly initialized to the type's zero value
(<code>0</code>, <code>nil</code>, etc.).  There are no
uninitialized variables in Go.</p>

<p>Within a function, a short declaration syntax is available with
<code>:=</code> .</p>

<pre><code>v1 := v2 // C++11: auto v1 = v2;
</code></pre>

<p>This is equivalent to</p>

<pre><code>var v1 = v2 // C++11: auto v1 = v2;
</code></pre>

<p>Go permits multiple assignments, which are done in parallel.  That is, first all of the values on the right-hand side are computed, and then these values are assigned to the variables on the left-hand side.</p>

<pre><code>i, j = j, i // Swap i and j.
</code></pre>

<p>Functions may have multiple return values, indicated by a list in
parentheses.  The returned values can be stored by assignment
to a list of variables.</p>

<pre><code>func f() (i int, j int) { ... }
v1, v2 = f()
</code></pre>

<p>Multiple return values are Go's primary mechanism for error handling:</p>

<pre><code>result, ok := g()
if !ok {
  // Something bad happened.
  return nil
}
// Continue as normal.
…
</code></pre>

<p>or, more tersely,</p>

<pre><code>if result, ok := g(); !ok {
  // Something bad happened.
  return nil
}
// Continue as normal.
…
</code></pre>

<p>Go code uses very few semicolons in practice.  Technically, all Go
statements are terminated by a semicolon.  However, Go treats the end
of a non-blank line as a semicolon unless the line is clearly
incomplete (the exact rules are
in <a href="go_spec.html#Semicolons">the language specification</a>).
A consequence of this is that in some cases Go does not permit you to
use a line break.  For example, you may not write</p>

<pre><code>func g()
{                  // INVALID
}
</code></pre>

<p>A semicolon will be inserted after <code>g()</code>, causing it to be
a function declaration rather than a function definition.  Similarly,
you may not write</p>

<pre><code>if x {
}
else {             // INVALID
}
</code></pre>

<p>A semicolon will be inserted after the <code>}</code> preceding
the <code>else</code>, causing a syntax error.</p>

<p>Since semicolons do end statements, you may continue using them as in
C++.  However, that is not the recommended style.  Idiomatic Go code
omits unnecessary semicolons, which in practice is all of them other
than the initial <code>for</code> loop clause and cases where you want several
short statements on a single line.</p>

<p>While we're on the topic, we recommend that rather than worry about
semicolons and brace placement, you format your code with
the <code>gofmt</code> program.  That will produce a single standard
Go style, and let you worry about your code rather than your
formatting.  While the style may initially seem odd, it is as good as
any other style, and familiarity will lead to comfort.</p>

<p>When using a pointer to a struct, you use <code>.</code> instead
of <code>-&gt;</code>.
Thus, syntactically speaking, a structure and a pointer to a structure
are used in the same way.</p>

<pre><code>type myStruct struct{ i int }
var v9 myStruct  // v9 has structure type
var p9 *myStruct // p9 is a pointer to a structure
f(v9.i, p9.i)
</code></pre>

<p>Go does not require parentheses around the condition of an <code>if</code>
statement, or the expressions of a <code>for</code> statement, or the value of a
<code>switch</code> statement.  On the other hand, it does require curly braces
around the body of an <code>if</code> or <code>for</code> statement.</p>

<pre><code>if a &lt; b { f() }             // Valid
if (a &lt; b) { f() }           // Valid (condition is a parenthesized expression)
if (a &lt; b) f()               // INVALID
for i = 0; i &lt; 10; i++ {}    // Valid
for (i = 0; i &lt; 10; i++) {}  // INVALID
</code></pre>

<p>Go does not have a <code>while</code> statement nor does it have a
<code>do/while</code>
statement.  The <code>for</code> statement may be used with a single condition,
which makes it equivalent to a <code>while</code> statement.  Omitting the
condition entirely is an endless loop.</p>

<p>Go permits <code>break</code> and <code>continue</code> to specify a label.
The label must
refer to a <code>for</code>, <code>switch</code>, or <code>select</code>
statement.</p>

<p>In a <code>switch</code> statement, <code>case</code> labels do not fall
through.  You can
make them fall through using the <code>fallthrough</code> keyword.  This applies
even to adjacent cases.</p>

<pre><code>switch i {
case 0: // empty case body
case 1:
    f() // f is not called when i == 0!
}
</code></pre>

<p>But a <code>case</code> can have multiple values.</p>

<pre><code>switch i {
case 0, 1:
    f() // f is called if i == 0 || i == 1.
}
</code></pre>

<p>The values in a <code>case</code> need not be constants--or even integers;
any type
that supports the equality comparison operator, such as strings or
pointers, can be used--and if the <code>switch</code>
value is omitted it defaults to <code>true</code>.</p>

<pre><code>switch {
case i &lt; 0:
    f1()
case i == 0:
    f2()
case i &gt; 0:
    f3()
}
</code></pre>

<p>The <code>defer</code> statement may be used to call a function after the function containing the <code>defer</code> statement returns.  <code>defer</code> often takes the place of a destructor in C++ but is associated with the calling code, not any particular class or object.</p>

<pre><code>fd := open("filename")
defer close(fd) // fd will be closed when this function returns.
</code></pre>

<h2>
<a id="user-content-operators" class="anchor" href="#operators" aria-hidden="true"><span class="octicon octicon-link"></span></a>Operators</h2>

<p>The <code>++</code> and <code>--</code> operators may only be used in
statements, not in expressions.
You cannot write <code>c = *p++</code>.  <code>*p++</code> is parsed as
<code>(*p)++</code>.</p>

<p>The operator precedence is different. As an example <code>4 &amp; 3 &lt;&lt; 1</code> evaluates to <code>0</code> in Go and <code>4</code> in C++.</p>

<pre><code>Go operator precedence:
1. *   /   %  &lt;&lt;  &gt;&gt;  &amp;  &amp;^
2. +   -   |  ^
3. ==  !=  &lt;  &lt;=  &gt;   &gt;=
4. &amp;&amp;
5. ||
</code></pre>

<pre><code>C++ operator precedence (only relevant operators):
1.  *    /   %
2.  +    -
3.  &lt;&lt;   &gt;&gt;
4.  &lt;    &lt;=  &gt;   &gt;=
5.  ==   !=
6.  &amp;
7.  ^
8.  |
9.  &amp;&amp;
10. ||
</code></pre>

<h2>
<a id="user-content-constants-" class="anchor" href="#constants-" aria-hidden="true"><span class="octicon octicon-link"></span></a>Constants </h2>

<p>In Go constants may be <i>untyped</i>. This applies even to constants
named with a <code>const</code> declaration, if no
type is given in the declaration and the initializer expression uses only
untyped constants.
A value derived from an untyped constant becomes typed when it
is used within a context that
requires a typed value. This permits constants to be used relatively
freely without requiring general implicit type conversion.</p>

<pre><code>var a uint
f(a + 1) // untyped numeric constant "1" becomes typed as uint
</code></pre>

<p>The language does not impose any limits on the size of an untyped
numeric constant or constant expression. A limit is only applied when
a constant is used where a type is required.</p>

<pre><code>const huge = 1 &lt;&lt; 100
f(huge &gt;&gt; 98)
</code></pre>

<p>Go does not support enums.  Instead, you can use the special name
<code>iota</code> in a single <code>const</code> declaration to get a
series of increasing
value.  When an initialization expression is omitted for a <code>const</code>,
it reuses the preceding expression.</p>

<pre><code>const (
    red   = iota // red == 0
    blue         // blue == 1
    green        // green == 2
)
</code></pre>

<h2>
<a id="user-content-types" class="anchor" href="#types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Types</h2>

<p>C++ and Go provide similar, but not identical, built-in types: signed and unsigned integers of various widths, 32-bit and 64-bit floating-point numbers (real and complex), <code>struct</code>s, pointers, etc.  In Go, <code>uint8</code>, <code>int64</code>, and like-named integer types are part of the language, not built on top of integers whose sizes are implementation-dependent (e.g., <code>long long</code>).  Go additionally provides native <code>string</code>, <code>map</code>, and <code>channel</code> types as well as first-class arrays and slices (described below).  Strings are encoded with Unicode, not ASCII.</p>

<p>Go is far more strongly typed than C++.  In particular, there is no implicit type coercion in Go, only explicit type conversion.  This provides additional safety and freedom from a class of bugs but at the cost of some additional typing.  There is also no <code>union</code> type in Go, as this would enable subversion of the type system.  However, a Go <code>interface{}</code> (see below) provides a type-safe alternative.</p>

<p>Both C++ and Go support type aliases (<code>typedef</code> in C++, <code>type</code> in Go).  However, unlike C++, Go treats these as different types.  Hence, the following is valid in C++:</p>

<pre><code>// C++
typedef double position;
typedef double velocity;

position pos = 218.0;
velocity vel = -9.8;

pos += vel;
</code></pre>

<p>but the equivalent is invalid in Go without an explicit type conversion:</p>

<pre><code>type position float64
type velocity float64

var pos position = 218.0
var vel velocity = -9.8

pos += vel // INVALID: mismatched types position and velocity
// pos += position(vel)  // Valid
</code></pre>

<p>The same is true even for unaliased types: an <code>int</code> and a <code>uint</code> cannot be combined in an expression without explicitly converting one to the other.</p>

<p>Go does not allow pointers to be cast to and from integers, unlike in C++.  However, Go's <code>unsafe</code> package enables one to explicitly bypass this safety mechanism if necessary (e.g., for use in low-level systems code).</p>

<h2>
<a id="user-content-slices" class="anchor" href="#slices" aria-hidden="true"><span class="octicon octicon-link"></span></a>Slices</h2>

<p>A slice is conceptually a struct with three fields: a
pointer to an array, a length, and a capacity.
Slices support
the <code>[]</code> operator to access elements of the underlying array.
The builtin
<code>len</code> function returns the
length of the slice.  The builtin <code>cap</code> function returns the
capacity.</p>

<p>Given an array, or another slice, a new slice is created via
<code>a[i:j]</code>.  This
creates a new slice which refers to <code>a</code>, starts at
index <code>i</code>, and ends before index
<code>j</code>.  It has length <code>j-i</code>.
If <code>i</code> is omitted, the slice starts at <code>0</code>.
If <code>j</code> is omitted, the slice ends at <code>len(a)</code>.
The new slice refers to the same array
to which <code>a</code>
refers.  Two implications of this statement are that ① changes made using the new slice may be seen using
<code>a</code>, and ② slice creation is (intended to be) cheap; no copy needs to be made of the underlying array.  The
capacity of the new slice is simply the capacity of <code>a</code> minus
<code>i</code>.  The capacity
of an array is the length of the array.</p>

<p>What this means is that Go uses slices for some cases where C++ uses pointers.
If you create a value of type <code>[100]byte</code> (an array of 100 bytes,
perhaps a
buffer) and you want to pass it to a function without copying it, you should
declare the function parameter to have type <code>[]byte</code>, and
pass a slice of the array (<code>a[:]</code> will pass the entire array).
Unlike in C++, it is not
necessary to pass the length of the buffer; it is efficiently accessible via
<code>len</code>.</p>

<p>The slice syntax may also be used with a string.  It returns a new string,
whose value is a substring of the original string.
Because strings are immutable, string slices can be implemented
without allocating new storage for the slices's contents.</p>

<h2>
<a id="user-content-making-values" class="anchor" href="#making-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Making values</h2>

<p>Go has a builtin function <code>new</code> which takes a type and
allocates space
on the heap. The allocated space will be zero-initialized for the type.
For example, <code>new(int)</code> allocates a new int on the heap,
initializes it with the value <code>0</code>,
and returns its address, which has type <code>*int</code>.
Unlike in C++, <code>new</code> is a function, not an operator;
<code>new int</code> is a syntax error.</p>

<p>Perhaps surprisingly, <code>new</code> is not commonly used in Go
programs.  In Go taking the address of a variable is always safe and
never yields a dangling pointer.  If the program takes the address of
a variable, it will be allocated on the heap if necessary.  So these
functions are equivalent:</p>

<pre><code>type S { I int }

func f1() *S {
    return new(S)
}

func f2() *S {
    var s S
    return &amp;s
}

func f3() *S {
    // More idiomatic: use composite literal syntax.
    return &amp;S{}
}
</code></pre>

<p>In contrast, it is not safe in C++ to return a pointer to a local variable:</p>

<pre><code>// C++
S* f2() {
  S s;
  return &amp;s;   // INVALID -- contents can be overwritten at any time
}
</code></pre>

<p>Map and channel values must be allocated using the builtin function
<code>make</code>.
A variable declared with map or channel type without an initializer will be
automatically initialized to <code>nil</code>.
Calling <code>make(map[int]int)</code> returns a newly allocated value of
type <code>map[int]int</code>.
Note that <code>make</code> returns a value, not a pointer.  This is
consistent with
the fact that map and channel values are passed by reference.  Calling
<code>make</code> with
a map type takes an optional argument which is the expected capacity of the
map.  Calling <code>make</code> with a channel type takes an optional
argument which sets the
buffering capacity of the channel; the default is 0 (unbuffered).</p>

<p>The <code>make</code> function may also be used to allocate a slice.
In this case it
allocates memory for the underlying array and returns a slice referring to it.
There is one required argument, which is the number of elements in the slice.
A second, optional, argument is the capacity of the slice.  For example,
<code>make([]int, 10, 20)</code>.  This is identical to
<code>new([20]int)[0:10]</code>.  Since
Go uses garbage collection, the newly allocated array will be discarded
sometime after there are no references to the returned slice.</p>

<h2>
<a id="user-content-interfaces" class="anchor" href="#interfaces" aria-hidden="true"><span class="octicon octicon-link"></span></a>Interfaces</h2>

<p>Where C++ provides classes, subclasses and templates,
Go provides interfaces.  A
Go interface is similar to a C++ pure abstract class: a class with no
data members, with methods which are all pure virtual.  However, in
Go, any type which provides the methods named in the interface may be
treated as an implementation of the interface.  No explicitly declared
inheritance is required.  The implementation of the interface is
entirely separate from the interface itself.</p>

<p>A method looks like an ordinary function definition, except that it
has a <em>receiver</em>.  The receiver is similar to
the <code>this</code> pointer in a C++ class method.</p>

<pre><code>type myType struct{ i int }

func (p *myType) Get() int { return p.i }
</code></pre>

<p>This declares a method <code>Get</code> associated with <code>myType</code>.
The receiver is named <code>p</code> in the body of the function.</p>

<p>Methods are defined on named types.  If you convert the value
to a different type, the new value will have the methods of the new type,
not the old type.</p>

<p>You may define methods on a builtin type by declaring a new named type
derived from it.  The new type is distinct from the builtin type.</p>

<pre><code>type myInteger int

func (p myInteger) Get() int { return int(p) } // Conversion required.
func f(i int)                {}

var v myInteger

// f(v) is invalid.
// f(int(v)) is valid; int(v) has no defined methods.
</code></pre>

<p>Given this interface:</p>

<pre><code>type myInterface interface {
    Get() int
    Set(i int)
}
</code></pre>

<p>we can make <code>myType</code> satisfy the interface by adding</p>

<pre><code>func (p *myType) Set(i int) { p.i = i }
</code></pre>

<p>Now any function which takes <code>myInterface</code> as a parameter
will accept a
variable of type <code>*myType</code>.</p>

<pre><code>func GetAndSet(x myInterface) {}
func f1() {
    var p myType
    GetAndSet(&amp;p)
}
</code></pre>

<p>In other words, if we view <code>myInterface</code> as a C++ pure abstract
base
class, defining <code>Set</code> and <code>Get</code> for
<code>*myType</code> made <code>*myType</code> automatically
inherit from <code>myInterface</code>.  A type may satisfy multiple interfaces.</p>

<p>An anonymous field may be used to implement something much like a C++ child
class.</p>

<pre><code>type myChildType struct {
    myType
    j int
}

func (p *myChildType) Get() int { p.j++; return p.myType.Get() }
</code></pre>

<p>This effectively implements <code>myChildType</code> as a child of
<code>myType</code>.</p>

<pre><code>func f2() {
    var p myChildType
    GetAndSet(&amp;p)
}
</code></pre>

<p>The <code>set</code> method is effectively inherited from
<code>myType</code>, because
methods associated with the anonymous field are promoted to become methods
of the enclosing type.  In this case, because <code>myChildType</code> has an
anonymous field of type <code>myType</code>, the methods of
<code>myType</code> also become methods of <code>myChildType</code>.
In this example, the <code>Get</code> method was
overridden, and the <code>Set</code> method was inherited.</p>

<p>This is not precisely the same as a child class in C++.
When a method of an anonymous field is called,
its receiver is the field, not the surrounding struct.
In other words, methods on anonymous fields are not virtual functions.
When you want the equivalent of a virtual function, use an interface.</p>

<p>A variable that has an interface type may be converted to have a
different interface type using a special construct called a type assertion.
This is implemented dynamically
at run time, like C++ <code>dynamic_cast</code>.  Unlike
<code>dynamic_cast</code>, there does
not need to be any declared relationship between the two interfaces.</p>

<pre><code>type myPrintInterface interface {
    Print()
}

func f3(x myInterface) {
    x.(myPrintInterface).Print() // type assertion to myPrintInterface
}
</code></pre>

<p>The conversion to <code>myPrintInterface</code> is entirely dynamic.
It will
work as long as the underlying type of x (the <em>dynamic type</em>) defines
a <code>print</code> method.</p>

<p>Because the conversion is dynamic, it may be used to implement generic
programming similar to templates in C++.  This is done by
manipulating values of the minimal interface.</p>

<pre><code>type Any interface{}
</code></pre>

<p>Containers may be written in terms of <code>Any</code>, but the caller
must unbox using a type assertion to recover
values of the contained type.  As the typing is dynamic rather
than static, there is no equivalent of the way that a C++ template may
inline the relevant operations.  The operations are fully type-checked
at run time, but all operations will involve a function call.</p>

<pre><code>type Iterator interface {
    Get() Any
    Set(v Any)
    Increment()
    Equal(arg Iterator) bool
}
</code></pre>

<p>Note that <code>Equal</code> has an argument of
type <code>Iterator</code>.  This does not behave like a C++
template.  See <a href="go_faq.html#t_and_equal_interface">the<br>
FAQ</a>.</p>

<h2>
<a id="user-content-function-closures" class="anchor" href="#function-closures" aria-hidden="true"><span class="octicon octicon-link"></span></a>Function closures</h2>

<p>In C++ versions prior to C++11, the most common way to create a function with hidden state is to use a "functor"—a class that overloads <code>operator()</code> to make instances look like functions.  For example, the following code defines a <code>my_transform</code> function (a simplified version of the STL's <code>std::transform</code>) that applies a given unary operator (<code>op</code>) to each element of an array (<code>in</code>), storing the result in another array (<code>out</code>).  To implement a prefix sum (i.e., {<code>x[0]</code>, <code>x[0]+x[1]</code>, <code>x[0]+x[1]+x[2]</code>, …}) the code creates a functor (<code>MyFunctor</code>) that keeps track of the running total (<code>total</code>) and passes an instance of this functor to <code>my_transform</code>.</p>

<pre><code>// C++
#include &lt;iostream&gt;
#include &lt;cstddef&gt;

template &lt;class UnaryOperator&gt;
void my_transform (size_t n_elts, int* in, int* out, UnaryOperator op)
{
  size_t i;

  for (i = 0; i &lt; n_elts; i++)
    out[i] = op(in[i]);
}

class MyFunctor {
public:
  int total;
  int operator()(int v) {
    total += v;
    return total;
  }
  MyFunctor() : total(0) {}
};

int main (void)
{
  int data[7] = {8, 6, 7, 5, 3, 0, 9};
  int result[7];
  MyFunctor accumulate;
  my_transform(7, data, result, accumulate);

  std::cout &lt;&lt; "Result is [ ";
  for (size_t i = 0; i &lt; 7; i++)
    std::cout &lt;&lt; result[i] &lt;&lt; ' ';
  std::cout &lt;&lt; "]\n";
  return 0;
}
</code></pre>

<p>C++11 adds anonymous ("lambda") functions, which can be stored in variables and passed to functions.  They can optionally serve as closures, meaning they can reference state from parent scopes.  This feature greatly simplifies <code>my_transform</code>:</p>

<pre><code>// C++11
#include &lt;iostream&gt;
#include &lt;cstddef&gt;
#include &lt;functional&gt;

void my_transform (size_t n_elts, int* in, int* out, std::function&lt;int(int)&gt; op)
{
  size_t i;

  for (i = 0; i &lt; n_elts; i++)
    out[i] = op(in[i]);
}

int main (void)
{
  int data[7] = {8, 6, 7, 5, 3, 0, 9};
  int result[7];
  int total = 0;
  my_transform(7, data, result, [&amp;total] (int v) {
      total += v;
      return total;
    });

  std::cout &lt;&lt; "Result is [ ";
  for (size_t i = 0; i &lt; 7; i++)
    std::cout &lt;&lt; result[i] &lt;&lt; ' ';
  std::cout &lt;&lt; "]\n";
  return 0;
}
</code></pre>

<p>A typical Go version of <code>my_transform</code> looks a lot like the C++11 version:</p>

<pre><code>package main

import "fmt"

func my_transform(in []int, xform func(int) int) (out []int) {
    out = make([]int, len(in))
    for idx, val := range in {
        out[idx] = xform(val)
    }
    return
}

func main() {
    data := []int{8, 6, 7, 5, 3, 0, 9}
    total := 0
    fmt.Printf("Result is %v\n", my_transform(data, func(v int) int {
        total += v
        return total
    }))
}
</code></pre>

<p>(Note that we chose to return <code>out</code> from <code>my_transform</code> rather than pass it an <code>out</code> to write to.  This was an aesthetic decision; the code could have been written more like the C++ version in that regard.)</p>

<p>In Go, functions are always full closures, the equivalent of <code>[&amp;]</code> in C++11.  An important difference is that it is invalid in C++11 for a closure to reference a variable whose scope has gone away (as may be caused by an <a href="http://en.wikipedia.org/wiki/Funarg_problem">upward funarg</a>—a function that returns a lambda that references local variables).  In Go, this is perfectly valid.</p>

<h2>
<a id="user-content-concurrency" class="anchor" href="#concurrency" aria-hidden="true"><span class="octicon octicon-link"></span></a>Concurrency</h2>

<p>Like C++11's <code>std::thread</code>, Go permits starting new threads of execution that run concurrently in a shared address space.  These are called <em>goroutines</em> and are spawned using the <code>go</code> statement.  While typical <code>std::thread</code> implementations launch heavyweight, operating-system threads, goroutines are implemented as lightweight, user-level threads that are multiplexed among multiple operating-system threads.  Consequently, goroutines are (intended to be) cheap and can be used liberally throughout a program.</p>

<pre><code>func server(i int) {
    for {
        fmt.Print(i)
        time.Sleep(10 * time.Second)
    }
}
go server(1)
go server(2)
</code></pre>

<p>(Note that the <code>for</code> statement in the <code>server</code>
function is equivalent to a C++ <code>while (true)</code> loop.)</p>

<p>Function literals (which Go implements as closures)
can be useful with the <code>go</code> statement.</p>

<pre><code>var g int
go func(i int) {
    s := 0
    for j := 0; j &lt; i; j++ {
        s += j
    }
    g = s
}(1000) // Passes argument 1000 to the function literal.
</code></pre>

<p>Like C++11, but unlike prior versions of C++, Go defines a
<a href="http://golang.org/ref/mem">memory model</a> for unsynchronized accesses to memory.  Although Go provides an analogue of <code>std::mutex</code> in its <code>sync</code> package, this is not the normal way to implement inter-thread communication and synchronization in Go programs.  Instead, Go threads more typically communicate by message passing, which is a fundamentally different approach from locks and barriers.  The Go mantra for this subject is,</p>

<blockquote>
<p>Do not communicate by sharing memory; instead, share memory by communicating.</p>
</blockquote>

<p>That is, <em>channels</em> are used to communicate among goroutines.  Values of any type (including other channels!) can be
sent over a channel.  Channels can be unbuffered or buffered (using a buffer length specified at channel-construction time).</p>

<p>Channels are first-class values; they can be stored in variables and passed to and from functions like any other value.  (When supplied to
functions, channels are passed by reference.)  Channels are also typed: a <code>chan int</code> is different from a <code>chan string</code>.</p>

<p>Because they are so widely used in Go programs, channels are (intended to be) efficient and cheap.  To send a value on a channel, use <code>&lt;-</code> as a binary operator.  To receive a value on a channel, use <code>&lt;-</code> as a unary operator.  Channels can be shared among multiple senders and multiple receivers and guarantee that each value sent is received by at most one receiver.</p>

<p>Here is an example of using a manager function to control access to a
single value.</p>

<pre><code>type Cmd struct { Get bool; Val int }
func Manager(ch chan Cmd) {
    val := 0
    for {
        c := &lt;-ch
        if c.Get { c.Val = val; ch &lt;- c }
        else { val = c.Val }
    }
}
</code></pre>

<p>In that example the same channel is used for input and output.
This is incorrect if there are multiple goroutines communicating
with the manager at once: a goroutine waiting for a response
from the manager might receive a request from another goroutine
instead.
A solution is to pass in a channel.</p>

<pre><code>type Cmd2 struct { Get bool; Val int; Ch chan&lt;- int }
func Manager2(ch &lt;-chan Cmd2) {
    val := 0
    for {
        c := &lt;-ch
        if c.Get { c.Ch &lt;- val }
        else { val = c.Val }
    }
}
</code></pre>

<p>To use <code>Manager2</code>, given a channel to it:</p>

<pre><code>func f4(ch chan&lt;- Cmd2) int {
    myCh := make(chan int)
    c := Cmd2{true, 0, myCh} // Composite literal syntax.
    ch &lt;- c
    return &lt;-myCh
}
</code></pre>

    </div>

  </div>
  </div>
</div>
</div>


        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="https://developer.github.com">API</a></li>
      <li><a href="http://training.github.com">Training</a></li>
      <li><a href="http://shop.github.com">Shop</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="/about">About</a></li>

    </ul>

    <a href="/" aria-label="Homepage">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
    </a>

    <ul class="site-footer-links">
      <li>&copy; 2015 <span title="0.07370s from github-fe142-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="/site/terms">Terms</a></li>
        <li><a href="/site/privacy">Privacy</a></li>
        <li><a href="/security">Security</a></li>
        <li><a href="/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-suggester-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents" placeholder=""></textarea>
      <div class="suggester-container">
        <div class="suggester fullscreen-suggester js-suggester js-navigation-container"></div>
      </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w"
      aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-x flash-close js-ajax-error-dismiss" aria-label="Dismiss error"></a>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-2badd09f690fc93e95552ba0ecf64200a0019057d5f5c329827f78f98ea76a1c.js" type="text/javascript"></script>
      <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github-59570f211caa0930759d3bd5eadce82f64cf1a901f0c17316d19f97d61a0d478.js" type="text/javascript"></script>
      
        <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/wiki-9bdadeb969c13b362c729813988236483d4c5abc83f6a436f3af2204e6ffe14f.js" type="text/javascript"></script>


  </body>
</html>

